import{a4 as n,E as s,a5 as o,S as i}from"./uGLhbxAz.js";const d=n(async u=>{let e,t;const a=s();if([e,t]=o(()=>a.initializeAuth()),await e,t(),!a.isLoggedIn)return console.log("[Auth Middleware] User not authenticated, redirecting to login"),i("/auth/login");try{a.user||([e,t]=o(()=>a.fetchUser()),await e,t())}catch(r){return console.warn("[Auth Middleware] Token validation failed:",r.message),i("/auth/login")}});export{d as default};
